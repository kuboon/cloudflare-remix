import{ImageResponse as c}from"workers-og";import*as s from"react";async function l({family:e,weight:t,text:r}){const n={family:`${encodeURIComponent(e)}${t?`:wght@${t}`:""}`};r?n.text=r:n.subset="latin";const i=`https://fonts.googleapis.com/css2?${Object.keys(n).map(o=>`${o}=${n[o]}`).join("&")}`,a=(await fetch(`${i}`,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; de-at) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1"}}).then(o=>o.text())).match(/src: url\((.+)\) format\('(opentype|truetype)'\)/)?.[1];if(!a)throw new Error("Could not find font URL");return fetch(a).then(o=>o.arrayBuffer())}const f=async e=>{const t=await l({family:"Noto Sans JP",weight:100});return new c(e,{width:1200,height:630,debug:!0,fonts:[{name:"NotoSansJP",data:t,weight:100,style:"normal"}]})},g=({title:e,content:t})=>s.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"pink"}},s.createElement("div",{style:{fontSize:"64px",color:"filter: invert(100%) grayscale(100%) contrast(100)"}},e),s.createElement("div",{style:{fontSize:"32px",color:"gray"}},t)),h=async({request:e})=>{const t=new URL(e.url),r=t.searchParams.get("title"),n=t.searchParams.get("content");return f(s.createElement(g,{title:r,content:n}))};export{f as generateImage,l as loadGoogleFont,h as onRequestGet};
//# sourceMappingURL=og_img.js.map
